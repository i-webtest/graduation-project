(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),l=document.querySelector(".modal-close"),o=document.querySelectorAll(".fancyboxModal"),n=document.querySelector("body"),c=window.screen.width;o.forEach((l=>{l.addEventListener("click",(l=>{l.preventDefault(),t.style.display="block",e.style.display="block",e.style.top="-50%",n.classList.add("lock"),c>768?(({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function n(c){let r=(c-o)/l;r>1&&(r=1);let s=e(r);t(s),r<1&&requestAnimationFrame(n)}))})({duration:500,timing:e=>e,draw(t){e.style.top=80*t-50+"%"}}):(t.style.display="block",e.style.top="20%")}))})),t.addEventListener("click",(()=>{t.style.display="none",e.style.display="none",n.classList.remove("lock")})),l.addEventListener("click",(()=>{t.style.display="none",e.style.display="none",n.classList.remove("lock")})),document.addEventListener("keydown",(l=>{"Escape"===l.key&&(t.style.display="none",e.style.display="none",n.classList.remove("lock"))}))})(),(()=>{const e=document.querySelectorAll("input[name=fio]"),t=document.querySelectorAll("input[name=tel]");e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-ЯёЁ\s]+/i,""),e.target.style.border=null})),e.addEventListener("invalid",(e=>{e.preventDefault(),e.target.style.border="1px solid red"}))})),t.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d+()]+/gi,""),e.target.style.border=null})),e.addEventListener("invalid",(e=>{e.preventDefault(),e.target.style.border="1px solid red"}))}))})(),(({formId:e})=>{const t=document.getElementById(e),l=document.querySelector(".modal-callback"),o=document.querySelector(".modal-overlay"),n=document.querySelector("body"),c=document.createElement("div");try{if(!t)throw new Error("Верните форму на место!");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),r=new FormData(t),s={};c.textContent="Загрузка...",t.append(c),r.forEach(((e,t)=>[s[t]=e])),(e=>{let t=!0;return e.forEach((e=>{"fio"===e.name&&e.value.length<2&&(e.style.border="3px solid red",t=!1),"tel"===e.name&&(e.value.length<6||e.value.length>16)&&(e.style.border="3px solid red",t=!1)})),t})(e)?(async e=>{await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))})(s).then((t=>{c.textContent="Спасибо! Наш менеджер с вами свяжется!",e.forEach((e=>{e.closest(".feedback")?e.style.border=null:e.value=""}))})).catch((e=>{c.textContent="Ошибка..."})).finally((()=>{setTimeout((()=>c.textContent=""),2e3),setTimeout((()=>{l.style.display="none",o.style.display="none",n.classList.remove("lock"),document.body.style.overflow=""}),3e3)})):c.textContent="Данные некорректны! Попробуйте ещё раз..."})()}))}catch(e){console.log(e.message)}})({formId:"form1"}),(()=>{const e=document.querySelectorAll(".top-menu a"),t=document.querySelector(".up");window.onscroll=function(){window.pageYOffset>580?t.style.display="block":t.style.display="none"},t.addEventListener("click",(()=>{window.scrollBy({top:-document.documentElement.scrollHeight,behavior:"smooth"})})),e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const l=e.getAttribute("href").substring(1);document.getElementById(l).scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}))}))})(),(()=>{const e=document.querySelector(".top-slider").querySelectorAll(".item");document.querySelector(".slick-dots"),document.querySelectorAll(".dot");for(let t=1;t<e.length;t++)e[t].hidden=!0;let t=0;setInterval((()=>{e[t].hidden=!0,t=(t+1)%e.length,e[t].hidden=!1}),3e3)})(),(()=>{const e=document.querySelectorAll(".accordeon .element"),t=document.querySelectorAll(".accordeon .element-content");e.forEach(((l,o)=>{l.querySelector(".title").addEventListener("click",(()=>{t[o].classList.contains("active")?t[o].style.display="none":t[o].style.display="block",t[o].classList.toggle("active"),l.classList.toggle("active"),e.forEach(((e,l)=>{o!==l&&(e.classList.remove("active"),t[l].style.display="none",t[l].classList.remove("active"))}))}))}))})(),(()=>{const e=document.querySelectorAll(".col-sm-6"),t=document.querySelector(".arrow-left"),l=document.querySelector(".arrow-right");let o;o=window.outerWidth<570?1:window.outerWidth<870&&window.outerWidth>570?2:3;let n=0;e.forEach((e=>{n<o?n++:e.style.display="none"})),n=0,0===n&&(t.style.opacity=.2),t.addEventListener("click",(()=>{n>0&&(n-=1,o-=1,e[n].style.display="block",e[o].style.display="none",l.style.opacity=1,0===n&&(t.style.opacity=.2))})),l.addEventListener("click",(()=>{o<e.length&&(e[n++].style.display="none",e[o++].style.display="block",o===e.length&&(l.style.opacity=.2),t.style.opacity=1)}))})(),(()=>{const e=document.querySelector(".mob-menu-btn"),t=document.querySelector(".mobile-menu-close"),l=document.querySelector(".mobile-menu"),o=l.querySelectorAll("ul>li>a"),n=document.querySelector(".overlay"),c=document.querySelector("body"),r=()=>{l.classList.toggle("open"),c.classList.toggle("lock")};e.addEventListener("click",r),n.addEventListener("click",r),t.addEventListener("click",r),o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),r();let t=e.target.getAttribute("href").substring(1);const l=document.getElementById(t).getBoundingClientRect().top-50;window.scrollBy({top:l,behavior:"smooth"})}))}))})()})();